<!DOCTYPE html>
<html  onselectstart='return false' ondragstart="return false">
    <head>
        <meta charset="utf-8">
        <title>demo</title>
        <meta name="description" content="">
        <meta name="keywords" content="">
        <link href=" " rel="stylesheet">
        <style>
           /* #box{
                width:50px;
                height:50px;
                padding:20px;
                background-color:green;
                position:absolute;
            }*/
            ul{
                width:200px;
                height:200px;
                padding:20px;
                border:1px solid red;
            }
            li{
                width:100px;
                height:100px;
                background-color:green;
            }
        </style>
    </head>
    <body>
        <div id="box">


            66666
            <ul>
                <li></li>
            </ul>
        </div>
        <!-- <img id='box' src="https://ss1.baidu.com/6ONXsjip0QIZ8tyhnq/it/u=2124132322,3602172280&fm=173&app=12&f=JPG?w=218&h=146&s=ECC191468C0214D68EC034B30300C002" alt=""> -->
    </body>
    <script src='../js封装/stopBubble.js'></script>
    <script src='addEvent.js'></script>
    <script src='removeEvent.js'></script>
    <script>
        var oBox = document.getElementById('box');

        // oBox.onclick = function(e){
        //     e = e||window.event;
        //     console.log(e.clientX,e.clientY);
        // }

        // var oUl = document.getElementsByTagName('ul')[0];
        // var oLi = oUl.getElementsByTagName('li')[0];

        // oUl.onclick = function(e){
        //     console.log(2);
        // }
        // oLi.onclick =function(e){
        //     console.log(1);
        //     stopBubble(e);
        // }
        // oBox.onclick =function(e){
        //     console.log(3);
        // }

        // oLi.addEventListener('click',handle,false);

        // function handle(e){
        //     console.log(e);//mouseEvent
        //     console.log(this);//li
        // }


        // oUl.addEventListener('click',fn2,true);
        // function fn2(e){
        //     console.log('oUl捕获了');
        // }

        // oBox.addEventListener('click',fn3,true);
        // function fn3(e){
        //     console.log('oBox捕获了');
        // }

        // oLi.addEventListener('click',fn4,false);
        // function fn4(e){
        //     console.log('oLi冒泡了');
        // }

        // oLi.addEventListener('click',fn1,true);
        // function fn1(e){
        //     console.log('oLi捕获了');
        // }

        // oUl.addEventListener('click',fn5,false);
        // function fn5(e){
        //     console.log('oUl冒泡了');
        // }

        // oBox.addEventListener('click',fn6,false);
        // function fn6(e){
        //     console.log('oBox冒泡了');
        //}

        // oUl.addEventListener('click',fn1,true);
        // oUl.addEventListener('click',fn3,true);
        // oUl.addEventListener('click',fn2,true);//1 3 2
        // function fn1(e){
        //     console.log(1);
        // }
        // function fn2(e){
        //     console.log(2);
        // }
        // function fn3(e){
        //     console.log(3);
        // }

        // oUl.attachEvent('onclick',fn1);
        // oUl.attachEvent('onclick',fn2);
        // oUl.attachEvent('onclick',fn3);

        // document.onclick = function(e){
        //     console.log(1);
        //     document.onclick = null;
        // }

        // oLi.addEventListener('click',function(e){
        //     console.log(1);
        //     this.removeEventListener('click',arguments.callee,false);
        // },false);

        // function handle(e){
        //     e = e || window.event;
        //     console.log(1);
        //     console.log(this);
        //     oLi.detachEvent('onclick',handle);//这里面的this执行window
        // }

        // oLi.attachEvent('onclick',function(e){
        //     e = e || window.event;
        //     console.log(1);
        //     oLi.detachEvent('onclick',arguments.callee );
        // });

        // addEvent(oLi,'click',fn,false);
        // function fn(e){
        //     e = e || window.event;
        //     console.log(1);
        //     removeEvent( oLi,'click',fn,false );
        // }


//移动拖拽div
        // var moveX;
        // var moveY;
        // oBox.onmousedown = function(e){
        //     e = e || window.event;
        //     //console.log(1);
        //     var init_x = e.clientX;
        //     var init_y = e.clientY;
        //     document.onmousemove = function(e){
        //         //console.log(2)
        //         e = e || window.event;
        //         moveX = e.clientX - init_x;
        //         moveY = e.clientY - init_y;

        //         oBox.style.left = init_x + moveX + 'px';
        //         oBox.style.top = init_y + moveY + 'px';
        //     }
        //     document.onmouseup = function(){
        //         document.onmousemove = null;
        //         document.onmouseup  = null;
        //     }


        // }


//鼠标右键默认事件的去除
        // document.oncontextmenu = function(){
        //     return false;
        // }

        // oBox.onmousewheel = function(){
        //     alert(1);
        // }


        // oBox.onmousewheel = function(e){
        //     console.log(fn(e));
        // }

        // oBox.addEventListener('DOMMouseScroll',fn,false);
        // function fn(e){
        //     e = e || window.event;
        //     e.wheel = e.wheelDelta || e.detail*-40;
        //     return e.wheel;
        // }

        // if(oBox.addEventListener){
        //     oBox.addEventListener('mousewheel',fn,false);
        //     oBox.addEventListener('DOMMouseScroll',fn,false);
        // }else{
        //     oBox.attachEvent('onmousewheel',fn);
        // }

        // function fn(e){
        //     e = e || window.event;
        //     e.wheel = e.wheelDelta || e.detail * -40;
        //     e.preventDefault?e.preventDefault():e.returnValue = false;

        //     console.log(e.wheel);
        // }

        addEvent(oBox,'click',fn,false);
        function fn(e){
            console.log('ok');
            removeEvent(oBox,'click',fn,false)
        }


    </script>
</html>
