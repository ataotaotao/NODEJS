<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>demo</title>
        <meta name="description" content="">
        <meta name="keywords" content="">
        <link href=" " rel="stylesheet">
    </head>
    <body>

        <script>

            // var obj = {
            //     names:123,
            //     get name(){
            //         return this.names;
            //     },
            //     set name(val){
            //         this.val = val;
            //     }
            // };
            // console.log( obj.name );


            let obj = {
                name:"二狗",
                age:18,
                m(){
                    console.log(this === obj);
                }
            };

            let p = new Proxy( obj, {
                get:function( target,key,pro){
                    // if( typeof key === "function"){
                    //     target[key]();
                    // }
                    // if( key === "age"){
                    //     return target[key] + 10;
                    // }
                    // return target[key] + "今年" + pro["age"];

                    return target[key];
                },
                set:function(target,key,val,pro){
                    if( key === "name"){
                        target[key] = val + "henshuai";
                    }else{
                        target[key] = val;
                    }
                }
            });
            p.name = "xiaohei";
            console.log( p );//Proxy {name: "二狗", age: 18}

            console.log(obj);//Proxy {name: "二狗", age: 18}
            obj.m();
        </script>
    </body>
</html>
